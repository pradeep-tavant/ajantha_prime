<div class="col-lg-12">
  <h2 class="page-header">New Member</h2>
  <%= form_for(resource, as: resource_name, url: member_registration_path, html: {class: "form-horizontal"}) do |f| %>
    <%= devise_error_messages! %>
    <%#= resource_error_messages!(resource) %>

    <div class="form-group">
      <%= f.label :name, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :name, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :block, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.select(:block, ["A","B"], {prompt: 'Select'}, {class: "form-control"}) %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :floor, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.select(:floor, [["GF",0],["FF",1],["SF",2],["TF",3],["FOF",4]], {prompt: 'Select'}, {class: "form-control"}) %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :flat, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.select(:flat, (1..12).to_a.map{|x| [('%02d' % x),x]}, {prompt: 'Select'}, {class: "form-control"}) %> <br />
      </div>
    </div>

    <!-- <div class="form-group">
      <%#= f.label :owner, 'Ownership', class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%#= f.select(:owner, [['Owner', true], ['Tenant', false]], {}, {class: "form-control"}) %> <br />
      </div>
    </div> -->

    <div class="form-group">
      <%= f.label :rented, 'Rented to someone?', class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.check_box :rented, class: "form-control rented", style: "width:34px" %> <br />
      </div>
    </div>

    <div class="container tenant-section" style="<%= resource.rented? ? '' : 'display: none' %>;">
      <section class="panel panel-default">
        <header class="panel-heading">
          <h5 class="panel-title">Tenant Details</h5>
        </header>
        <div class="panel-body">
          <%= f.fields_for :tenant, resource.build_tenant do |t_f| %>
            <%= t_f.hidden_field :id %>
            <div class="form-group">
              <%= t_f.label :name,"Tenant Name", class: "control-label col-sm-2" %>
              <div class="col-sm-10">
                <%= t_f.text_field :name, class: "form-control" %> <br />
              </div>
            </div>

            <div class="form-group">
              <%= t_f.label :email, "Tenat Email", class: "control-label col-sm-2" %>
              <div class="col-sm-10">
                <%= t_f.text_field :email, class: "form-control" %> <br />
              </div>
            </div>

            <div class="form-group">
              <%= t_f.label :phone, "Tenant Phone", class: "control-label col-sm-2" %>
              <div class="col-sm-10">
                <%= t_f.text_field :phone, class: "form-control" %> <br />
              </div>
            </div>
          <% end %>
        </div>
      </section>
    </div>

    <div class="form-group">
      <%= f.label :email, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :email, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :sec_email, 'Secondary Email', class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :sec_email, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :phone, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :phone, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :sec_phone, 'Secondary Phone', class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :sec_phone, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :password, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.password_field :password, class: "form-control" %> <br />
      </div>
    </div>

    <div class="form-group">
      <%= f.label :password_confirmation, 'Confirm Password', class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.password_field :password_confirmation, class: "form-control" %> <br />
      </div>
    </div>

    <div>
      <div class="col-sm-12" style="text-align: center;">
        <%= link_to 'Cancel', new_member_session_path, class: "btn btn-default" %>
        <%= f.submit "Sign Up", class: "btn btn-primary" %>
      </div>
    </div>
  <% end %>
</div>

<%= render "devise/shared/links" %>
